# 2. React 다시 알기

<br/>

## 1. 상태값과 속성값으로 관리하는 UI 데이터

UI 데이터는 컴포넌트 내부에서 관리되는 상태값(state)과 부모 컴포넌트에서 내려주는 속성값(props)로 구성된다.

UI 데이터가 변경되면 화면을 다시 그려야 한다. React와 같은 UI 라이브러리를 사용하지 않으면, **UI 데이터가 변경될 때마다 DOM 요소를 직접 수정**해야한다.<br/>하지만, DOM 요소를 직접 수정하다 보면 **비즈니스 로직과 UI를 수정하는 코드가 뒤섞이고, 코드가 복잡**해진다. 

그래서 React는 **화면을 그리는 모든 코드를 함수에 선언형으로 작성**하도록 했다. UI 데이터가 변경되면 **React가 컴포넌트 함수를 이용해서 화면을 자동으로 갱신**해 주며, 이것이 리액트의 가장 중요한 역할이다.

<br/>

### React 코드의 특징

JS와 jQuery와 같이 **화면을 어떻게 그리는지 나타내는 방식**을 **명령형(imperative) 프로그래밍**이라고 한다.

React와 같이 **화면이 무엇을 그리는지 나타내는 방식**을 **선언형(declarative) 프로그래밍**이라고 한다.

**명령형** 프로그래밍의 경우 DOM을 **직접 수정하면서 화면을 어떻게 그리는지 구체적**으로 나타낸다. 때문에 **DOM 환경이 아닌 곳에서는 사용하기 힘들다.**

반면, **선언형** 프로그래밍의 경우 **무엇을 그리는지만 나타내**기 때문에 **다양한 방식**으로 그릴 수 있다. 컴포넌트 함수가 반환하는 코드는 선언형이기 때문에 React는 **DOM 환경뿐만 아니라 모바일 네이티브의 UI도 표현**할 수 있다.

따라서 **명령형보다 선언형 프로그래밍이 추상화 단계가 높다**고 할 수 있다. 추상화 단계가 높을수록 **비즈니스 로직에 좀 더 집중**할 수 있다.

<br/>

### 컴포넌트의 속성값, 상태값

React에서 UI 데이터는 무조건 속성값과 상태값으로 관리해야한다. 그렇지 않으면 UI 데이터가 변경되어도 화면이 갱신되지 않는다.

다음 코드를 보자

```jsx
let color = 'red';
function MyComponent(){
    function onClick(){
        color = 'blue';
    }
    return(
    	<button style={{ backgroundColor: color }} onClick={onClick}>
        	좋아요
        </button>
    );
}
```

클릭 이벤트가 발생해도 버튼 색이 바뀌지 않는다. UI 데이터가 변경됐다는 사실을 React가 모르기 때문이다.

컴포넌트의 상태값 혹은 속성값을 이용하면 React가 UI 데이터의 변경을 알 수 있다. 위의 코드를 상태값을 포함하여 작성하면 다음과 같다.

```jsx
import React, { useState } from 'react';

function MyComponent(){
    const [color, setColor] = useState('red'); // 컴포넌트에 상태값을 추가할 때는 useState Hook을 사용하다.
    function onClick(){
        setColor('blue');
    }
    return(
    	<button style={{ backgroundColor: color }} onClick={onClick}>
        	좋아요
        </button>
    )
}
```

<br/>

### 불변 객체로 관리하는 속성값, 상태값